(this.webpackJsonpindra=this.webpackJsonpindra||[]).push([[0],{163:function(e,t,a){e.exports=a.p+"static/media/Sandpile.090bc1a0.jpg"},164:function(e,t,a){e.exports=a.p+"static/media/sandpile_2.d38b3fb1.png"},165:function(e,t,a){e.exports=a.p+"static/media/mendelobrot_sq.875dd8b8.jpg"},183:function(e,t,a){e.exports=a(374)},347:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),c=a(20),s=a(21),i=a(23),u=a(22),m=a(24),d=a(43),p=a(34),h=a(380),g=a(383),f=function(e){return r.a.createElement("div",null,r.a.createElement(g.a.Item,null,r.a.createElement(d.b,{to:"/"})),r.a.createElement(g.a.Menu,{position:"right"},r.a.createElement(g.a.Item,null,r.a.createElement(d.b,{to:"/"}))))},b=function(e){return r.a.createElement(h.a,null,r.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"}),r.a.createElement(f,null),e.children)},v=a(16),E=a.n(v),y=a(29),k=a(382),S=a(381),_=a(77),O=a(175),j=a(173),w=a(40),D=a.n(w),N=(a(330),a(331),a(162)),I=a.n(N),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).renderImage=function(){var e={dots:a.props.dots,infinite:!0,speed:a.props.speed,slidesToShow:1,slidesToScroll:1,autoplay:a.props.autoplay,fade:!0,className:a.props.className};return r.a.createElement("div",null,r.a.createElement(I.a,e,a.props.data.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("img",{src:e.image,className:"rounded-circle carousel",alt:"Responsive image","data-toggle":"tooltip","data-placement":"top",title:e.title}))}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderImage())}}]),t}(n.Component);x.defaultProps={dots:!1,speed:1e3,autoplay:!1};var C=x,M=a(163),P=a.n(M),B=a(164),A=a.n(B),W=a(165),z=a.n(W),H=(a(347),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).renderShowDescription=function(){return r.a.createElement("h1",{className:"small-header"},r.a.createElement("a",{href:"https://gcallah.github.io/indras_net/index.html",className:"text-primary m-2",target:"_blank",rel:"noopener noreferrer"},"View Project Description"," ")," ")},a.handleClick=function(e,t,a){localStorage.setItem("menu_id",e),localStorage.setItem("name",t),localStorage.setItem("source",a)},a.renderHeader=function(){return r.a.createElement("h1",{className:"text-center"},"Indra Agent-Based Modeling System")},a.renderChooseModelProp=function(){return r.a.createElement("h1",{className:"small-header"},"Please choose a model:"," ")},a.state={allItems:[],loadingData:!1,apiFailed:!1,dataForCarousel:[{image:P.a,title:"by Seth Terashima"},{image:A.a,title:"by Colt Browninga"},{image:z.a,title:"by Adam majewski"}]},a.api_server="https://indrasnet.pythonanywhere.com/",a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadingData:!0}),document.title="Indra | Home",e.next=5,D.a.get("".concat(this.api_server,"models"));case 5:t=e.sent,this.setState({allItems:t.data,loadingData:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({apiFailed:!0});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.dataForCarousel,l=t.allItems;return t.apiFailed?r.a.createElement("h1",null,"404 Error"):a?r.a.createElement(k.a,{active:!0,inverted:!0},r.a.createElement(S.a,{size:"massive"},"Loading...")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"margin-bottom-100"},this.renderHeader()),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},this.renderChooseModelProp(),r.a.createElement(_.a,null,Object.keys(l).map((function(t){return r.a.createElement(O.a,{key:"".concat(l[t].name,"-tooltip"),placement:"right",overlay:r.a.createElement(j.a,null,l[t].doc)},r.a.createElement(d.b,{to:{pathname:"/models/props/".concat(l[t]["model ID"])},className:"text-primary w-75 p-3 list-group-item list-group-item-action",key:l[t].name,onClick:function(){return e.handleClick(l[t]["model ID"],l[t].name,l[t].source)}},l[t].name))}))),this.renderShowDescription()),r.a.createElement("div",{className:"col-6"},r.a.createElement(C,{speed:5e3,autoplay:!0,className:"col-12",data:n}))))}}]),t}(n.Component)),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={msg:"",loadingData:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loadingData:!0}),document.title="Indra | Work in Progress",this.setState({loadingData:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingData?r.a.createElement(k.a,{active:!0,inverted:!0},r.a.createElement(S.a,{size:"massive"},"Loading...")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Welcome to the Indra ABM platform!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"We will have this model running soon!"),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),F=a(78);var L=function(e){return r.a.createElement("div",{key:e.label,className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"col-sm-4 col-md-4 col-lg-4",key:e.label},e.label," "," "),r.a.createElement("input",{type:e.type,className:"col-sm-2 col-md-2 col-lg-2",style:{fontSize:"15pt"},placeholder:e.placeholder,onChange:e.propChange,name:e.name}),r.a.createElement("span",{className:"col-sm-6 col-md-6 col-lg-6",style:{color:"red",fontSize:12}},e.error),r.a.createElement("br",null)))};var R=function(){return r.a.createElement(k.a,{active:!0,inverted:!0},r.a.createElement(S.a,{size:"massive"},"Loading..."))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q="https://indrasnet.pythonanywhere.com/models/props/",G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).states=function(e){console.log(a.state),Object.keys(a.state.model_details).forEach((function(t){return a.setState(Object(F.a)({},t,e[t]))}),console.log(a.state))},a.errors=function(e){Object.keys(a.state.model_details).forEach((function(e){return a.setState((function(t){return{model_details:V({},t.model_details,Object(F.a)({},e,V({},t.model_details[e],{errorMessage:"",disabledButton:!1})))}}))}))},a.errorSubmit=function(){var e=!1;return Object.keys(a.state.model_details).forEach((function(t){return e=e||a.state.model_details[t].disabledButton})),e},a.propChanged=function(e){var t=a.state.model_details,n=e.target,r=n.name,l=n.value,o=a.checkValidity(r,l);t[r].disabledButton=!0,1===o?(t[r].val=l,t[r].errorMessage="",t[r].disabledButton=!1,a.setState({model_details:t})):-1===o?(t[r].errorMessage="**Wrong Input Type",t[r].val=a.state[r].val,a.setState({model_details:t}),console.log(a.state.model_details[r])):(t[r].errorMessage="**Please input a number between ".concat(a.state[r].lowval," and ").concat(a.state[r].hival,"."),t[r].val=a.state[r].val,a.setState({model_details:t})),a.setState({disabled_button:a.errorSubmit()})},a.checkValidity=function(e,t){return t<=a.state.model_details[e].hival&&t>=a.state.model_details[e].lowval?"INT"===a.state.model_details[e].atype&&!1===!!(t%1)?1:"DBL"===a.state.model_details[e].atype?1:-1:0},a.handleSubmit=function(){var e=Object(y.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.state.model_details),e.prev=2,e.next=5,D.a.put(q+localStorage.getItem("menu_id"),a.state.model_details);case 5:n=e.sent,r=localStorage.getItem("menu_id"),a.setState({env_file:n.data}),localStorage.setItem("env_file",JSON.stringify(a.state.env_file)),a.props.history.push({pathname:"/models/menu/"+r.toString(10),state:{env_file:a.state.env_file}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.message),a.props.history.push("/errorCatching");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),a.renderHeader=function(){return r.a.createElement("h1",{style:{textAlign:"center",fontWeight:"200"}},"Please set the parameters for the ",localStorage.getItem("name")," model")},a.renderSubmitButton=function(){var e=a.state.disabled_button;return r.a.createElement("button",{disabled:e,onClick:e?null:a.handleSubmit,className:"btn btn-primary m-2"},"Submit")},a.goback=function(){a.props.history.goBack()},a.state={model_details:{},loadingData:!1,disabled_button:!1,env_file:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,document.title="Indra | Property",this.setState({loadingData:!0}),console.log(q+"".concat(localStorage.getItem("menu_id"))),e.next=6,D.a.get(q+"".concat(localStorage.getItem("menu_id")));case 6:t=e.sent,this.setState({model_details:t.data}),console.log("model_detail json",this.state.model_details),this.states(t.data),this.errors(t.data),this.setState({loadingData:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loadingData?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-light m-2",onClick:this.goback},"Back"),r.a.createElement("br",null),this.renderHeader(),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("div",{className:"container"},Object.keys(this.state.model_details).map((function(t,a){return"question"in e.state.model_details[t]?r.a.createElement(L,{label:e.state.model_details[t].question,type:e.state.model_details[t].atype,placeholder:e.state.model_details[t].val,error:e.state.model_details[t].errorMessage,propChange:e.propChanged,name:t,key:a}):null})))),r.a.createElement("br",null),r.a.createElement("br",null),this.renderSubmitButton())}}]),t}(n.Component),K=a(76),Q=(a(151),5);var U=function(e){if(e.loadingData){var t=[];if(e.id!==Q){var a=e.env_file.pop_hist.pops;Object.keys(a).map((function(n,r){return t.push({name:n,color:e.env_file.members[n].attrs.color,data:{}}),Object.keys(a[n]).map((function(e,l){return t[r].data[e]=a[n][l]}))}))}else{var n,l=e.env_file.pop_hist.periods,o=e.env_file.members.market_maker.attrs.price_hist;for(t.push({name:"price history",data:{}}),n=0;n<l;n++)t[0].data[n]=o[n]}return r.a.createElement("div",null,r.a.createElement(K.a,{data:t,width:"600px",height:"600px"}))}return null},X=10;var Y=function(e){if(e.loadingData&&e.id!=X){var t=e.env_file.members,a=e.env_file.props.grid_height.val,n=e.env_file.props.grid_width.val;console.log(n),console.log(a),console.log(t);var l=[];return Object.keys(t).map((function(e,a){return l.push({name:t[e].name,color:t[e].attrs.color,data:[]}),Object.keys(t[e].members).map((function(n,r){if(null!==t[e].members[n].pos)return l[a].data.push(t[e].members[n].pos)}))})),console.log(l),r.a.createElement("div",null,r.a.createElement(K.b,{data:l,width:"600px",height:"600px"}))}return e.loadingData&&e.id===X?r.a.createElement("p",null," There is no scatter plot available for this model! "):null},Z=a(174),$=a.n(Z);var ee=function(e){var t=e.env_file;return console.log(t),e.loadingData?(console.log("inside Debugger"),r.a.createElement($.a,{src:t})):null};var te=function(e,t){return r.a.createElement("div",null,r.a.createElement("h5",{style:{textAlign:"center",fontSize:16},className:"card-header bg-primary text-white"},e),r.a.createElement("div",{className:"card-body"},r.a.createElement("pre",null,t)))},ae=2,ne=3,re=4,le=5,oe="https://indrasnet.pythonanywhere.com/models/menu/",ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).viewSource=function(){window.open(localStorage.getItem("source"))},a.onClick=function(){a.setState({showComponent:!0})},a.goback=function(){a.props.history.goBack()},a.handleRunPeriod=function(e){a.setState({periodNum:e.target.value}),0===a.checkValidity(e.target.value)?a.setState({errorMessage:"**Please input an integer",disabledButton:!0}):a.setState({errorMessage:"",disabledButton:!1})},a.checkValidity=function(e){return e%1===0?1:0},a.handleClick=function(e){switch(console.log("e = ".concat(String(e))),a.setState({loadingData:!1,loadingPopulation:!1,loadingScatter:!1,loadingDebugger:!1,actionId:e}),e){case ae:a.setState({loadingPopulation:!0});break;case ne:a.setState({loadingScatter:!0});break;case re:a.setState({loadingDebugger:!0});break;case le:a.viewSource()}},a.sendNumPeriods=Object(y.a)(E.a.mark((function e(){var t,n,r,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.periodNum,r=t.env_file,console.log("".concat(oe,"run/").concat(String(n))),a.setState({loadingData:!0}),e.prev=3,e.next=6,D.a.put("".concat(oe,"run/").concat(String(n)),r,n);case 6:l=e.sent,a.setState({env_file:l.data,loadingData:!1,msg:l.data.user.user_msgs}),console.log(l.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),a.renderHeader=function(){var e=a.state.name;return r.a.createElement("h1",{className:"header"},e)},a.MenuItem=function(e,t,n){return r.a.createElement(_.a,{className:"w-50 text-primary p-3 list-group-item list-group-item-action",key:e,onClick:function(){return a.handleClick(t)}},n)},a.renderModelStatus=function(){var e=a.state.msg;return r.a.createElement("div",null,r.a.createElement("div",{className:"card w-50 overflow-auto model-status"},te("Model Status",e)))},a.renderMenuItem=function(){var e=a.state,t=e.loadingPopulation,n=e.env_file,l=e.modelId,o=e.loadingDebugger,c=e.loadingScatter;return r.a.createElement("div",null,r.a.createElement(U,{loadingData:t,env_file:n,id:l}),r.a.createElement(Y,{loadingData:c,env_file:n,id:l}),r.a.createElement(ee,{loadingData:o,env_file:n}))},a.renderRunButton=function(){var e=a.state,t=e.disabledButton,n=e.errorMessage;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:t,onClick:t?null:a.sendNumPeriods,className:"btn btn-success m-2"},"  ","Run","  ")," ",r.a.createElement("span",null,"model for")," ",r.a.createElement("input",{type:"INT",className:"from-control m-2 number-input",placeholder:"10",onChange:a.handleRunPeriod})," ","periods.",r.a.createElement("span",{className:"error-message"},n))},a.renderMapItem=function(){var e=a.state.menu;return r.a.createElement("div",{className:"row margin-bottom-80"},r.a.createElement("div",{className:"col"},Object.keys(e).map((function(t,n){return r.a.createElement("div",{key:n},e[t].id>1?a.MenuItem(n,e[t].id,e[t].question):null)}))))},a.state={msg:"",menu:{},loadingData:!1,env_file:{},modelId:0,actionId:0,showComponent:!1,periodNum:10,errorMessage:"",disabledButton:!1,loadingPopulation:!1,loadingScatter:!1,loadingDebugger:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Indra | Menu",e.next=3,D.a.get(oe);case 3:t=e.sent,console.log(oe),this.setState({menu:t.data,name:localStorage.getItem("name"),modelId:localStorage.getItem("menu_id"),source:localStorage.getItem("source"),env_file:JSON.parse(localStorage.getItem("env_file")),msg:JSON.parse(localStorage.getItem("env_file")).user.user_msgs}),console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingData?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-light m-2",onClick:this.goback},"Back"),this.renderHeader(),this.renderModelStatus(),r.a.createElement("ul",{className:"list-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,this.renderRunButton(),r.a.createElement("h3",{className:"margin-top-60 mb-5"},"Model Analysis:"))),this.renderMapItem()),this.renderMenuItem())}}]),t}(n.Component),se=(a(371),function(e){var t=e.code,a=e.children;return r.a.createElement(p.a,{render:function(e){var n=e.staticContext;return n&&(n.status=t),a}})}),ie=function(){return r.a.createElement(se,{code:404},r.a.createElement("div",{className:"NotFoundPage"},r.a.createElement("h1",null,"Oops!"),r.a.createElement("div",null,"Looks like you're lost..."),r.a.createElement("div",{className:"action"},r.a.createElement("a",{className:"btn btn-primary",href:"/"},"Guide me to the right path!"))))},ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={msg:"",loadingData:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loadingData:!0}),document.title="Indra | Work in Progress",this.setState({loadingData:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingData?r.a.createElement(k.a,{active:!0,inverted:!0},r.a.createElement(S.a,{size:"massive"},"Loading...")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Indra ABM platform"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"We are encountering some problems with the API server. We will have this model running soon!"),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),me=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(b,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:H}),r.a.createElement(p.a,{exact:!0,path:"/wip",component:T}),r.a.createElement(p.a,{exact:!0,path:"/models/props/:id",component:G}),r.a.createElement(p.a,{exact:!0,path:"/models/menu/:id",component:ce}),r.a.createElement(p.a,{exact:!0,path:"/errorCatching",component:ue}),r.a.createElement(p.a,{component:ie}))))}}]),t}(n.Component);a(372),a(373);o.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.c96fcbdb.chunk.js.map